!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in t){var i=t[e];delete t[e];var r={id:e,exports:{}};return n[e]=r,i.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){t[e]=n},e.parcelRequired7c6=i);var r=i("4LMMA");const a="34e68a416eb051ec4adf34df5a0038fd",o="https://api.themoviedb.org/3/",d="https://image.tmdb.org/t/p/original",s=document.querySelector(".library-btn__watched"),c=document.querySelector(".library-btn__queue"),l=document.querySelector(".library-gallery-wrap"),u=document.querySelector(".dot-spinner");async function f(){if(0===r.watched.length)return;u.classList.remove("is-hidden");const e=m(await h(r.watched));u.classList.add("is-hidden"),p(e)}async function h(e){const n=e.map((e=>async function(e){const n=await fetch(`${o}movie/${e}?api_key=${a}&language=en-US`),t=await n.json();return console.log(t),t}(e)));return await Promise.all(n)}function p(e){l.innerHTML="",l.insertAdjacentHTML("beforeend",e)}function m(e){return e.reduce(((e,n)=>e+function(e){return`\n            <li class="movie-card"  ID=${e.id}>\n                <img class="movie-card__image" src="${d}${e.poster_path}" \n                onerror="this.onerror=null;this.src='https://thumbs.dreamstime.com/b/атрибуты-кино-вьюрок-фи-ьма-и-во-а-со-ы-в-бумажном-стаканчике-87336791.jpg'" \n                alt="${e.original_title}" \n                width="300"\n                ID=${e.id}>\n                <h2 class="movie-card__name"   ID=${e.id}>${e.original_title}</h2>\n                <p class="movie-card__text"   ID=${e.id}>${e.genre_ids} | ${e.release_date}</p>\n            </li>\n        `}(n)),"")}s.addEventListener("click",f),c.addEventListener("click",(async function(){if(0===r.queue.length)return;u.classList.remove("is-hidden");const e=m(await h(r.queue));u.classList.add("is-hidden"),p(e)})),window.addEventListener("load",f),i("b3EoS"),i("ghnK3"),i("6IdhT"),i("5xtVg"),i("7syyS"),i("1h2Gi")}();
//# sourceMappingURL=library.360c7cf6.js.map
