!function(){const e="watched",t="queue",n=JSON.parse(localStorage.getItem(e))||[],i=JSON.parse(localStorage.getItem(t))||[];const a="34e68a416eb051ec4adf34df5a0038fd",r="https://api.themoviedb.org/3/",s="https://image.tmdb.org/t/p/original",c=document.querySelector(".library-btn__watched"),o=document.querySelector(".library-btn__queue"),d=document.querySelector(".library-container"),l=document.querySelector(".dot-spinner");async function u(){if(0===n.length)return;l.classList.remove("is-hidden");const e=g(await m(n));l.classList.add("is-hidden"),h(e)}async function m(e){const t=e.map((e=>async function(e){const t=await fetch(`${r}movie/${e}?api_key=${a}&language=en-US`),n=await t.json();return console.log(n),n}(e)));return await Promise.all(t)}function h(e){d.innerHTML="",d.insertAdjacentHTML("beforeend",e)}function g(e){return e.reduce(((e,t)=>e+function(e){return`\n            <li class="movie-card"  ID=${e.id}>\n                <img class="movie-card__image" src="${s}${e.poster_path}" \n                onerror="this.onerror=null;this.src='https://thumbs.dreamstime.com/b/атрибуты-кино-вьюрок-фи-ьма-и-во-а-со-ы-в-бумажном-стаканчике-87336791.jpg'" \n                alt="${e.original_title}" \n                width="300"\n                ID=${e.id}>\n                <h2 class="movie-card__name"   ID=${e.id}>${e.original_title}</h2>\n                <p class="movie-card__text"   ID=${e.id}>${e.genre_ids} | ${e.release_date}</p>\n            </li>\n        `}(t)),"")}c.addEventListener("click",u),o.addEventListener("click",(async function(){if(0===i.length)return;l.classList.remove("is-hidden");const e=g(await m(i));l.classList.add("is-hidden"),h(e)})),window.addEventListener("load",u)}();
//# sourceMappingURL=library.8b2b23a4.js.map
