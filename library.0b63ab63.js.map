{"mappings":"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","sources":["src/js/local-storage.js","src/js/modal-genres.js","src/js/watched-queue-run.js","src/js/switch-theme.js","src/js/team-modal.js","src/js/scroll-up-btn.js","src/js/modal-library.js"],"sourcesContent":["const KEY_WATCHED = 'watched';\nconst KEY_QUEUE = 'queue';\n\nexport const watched = getWatched() || [];\nexport const queue = getQueue() || [];\n\nexport function setWatched(array) {\n  localStorage.setItem(KEY_WATCHED, JSON.stringify(array));\n}\n\nexport function setQueue(array) {\n  localStorage.setItem(KEY_QUEUE, JSON.stringify(array));\n}\n\nexport function getWatched() {\n  return JSON.parse(localStorage.getItem(KEY_WATCHED));\n}\nexport function getQueue() {\n  return JSON.parse(localStorage.getItem(KEY_QUEUE));\n}\n","export const genres = [\n  {\n    id: 28,\n    name: 'Action',\n  },\n  {\n    id: 12,\n    name: 'Adventure',\n  },\n  {\n    id: 16,\n    name: 'Animation',\n  },\n  {\n    id: 35,\n    name: 'Comedy',\n  },\n  {\n    id: 80,\n    name: 'Crime',\n  },\n  {\n    id: 99,\n    name: 'Documentary',\n  },\n  {\n    id: 18,\n    name: 'Drama',\n  },\n  {\n    id: 10751,\n    name: 'Family',\n  },\n  {\n    id: 14,\n    name: 'Fantasy',\n  },\n  {\n    id: 36,\n    name: 'History',\n  },\n  {\n    id: 27,\n    name: 'Horror',\n  },\n  {\n    id: 10402,\n    name: 'Music',\n  },\n  {\n    id: 9648,\n    name: 'Mystery',\n  },\n  {\n    id: 10749,\n    name: 'Romance',\n  },\n  {\n    id: 878,\n    name: 'Science Fiction',\n  },\n  {\n    id: 10770,\n    name: 'TV Movie',\n  },\n  {\n    id: 53,\n    name: 'Thriller',\n  },\n  {\n    id: 10752,\n    name: 'War',\n  },\n  {\n    id: 37,\n    name: 'Western',\n  },\n];\n\nexport function getGenre(genres) {\n  return genres.map(genre => genre.name).join(', ');\n}\nexport function getGenrelibrary(genre_ids) {\n  return genre_ids.map(({ name }) => name).join(', ');\n}\n","import { watched, queue } from './local-storage';\nimport { getGenrelibrary } from './modal-genres';\n\n// import { getMovieInfoById } from './api-service';\n\nconst API_KEY = '34e68a416eb051ec4adf34df5a0038fd';\nconst API_URL = `https://api.themoviedb.org/3/`;\nconst API_URL_IMG = `https://image.tmdb.org/t/p/original`;\n\nconst libWatchedBtn = document.querySelector('.library-btn__watched');\nconst libQueueBtn = document.querySelector('.library-btn__queue');\nconst libContainer = document.querySelector('.library-gallery-wrap');\nconst libBoxinfo = document.querySelector('.library-bg-image');\nconst BoxCard = document.querySelector('.library-gallery-box');\nconst spinner = document.querySelector('.dot-spinner');\n\nlibWatchedBtn.addEventListener('click', onlibWatchedBtnClick);\nlibQueueBtn.addEventListener('click', onlibQueueBtnClick);\nwindow.addEventListener('load', onlibWatchedBtnClick);\n\n// НАТИСК на кнопку - Watched\nasync function onlibWatchedBtnClick() {\n  if (watched.length === 0) {\n    console.log('start');\n    libBoxinfo.classList.remove('is-hidden');\n    BoxCard.innerHTML = ` `;\n    return;\n  }\n\n  spinner.classList.remove('is-hidden');\n  spinner.classList.add('is-hidden');\n\n  renderList(watched);\n}\n\n// НАТИСК на кнопку - Queue\nasync function onlibQueueBtnClick() {\n  if (queue.length === 0) {\n    console.log('start');\n    libBoxinfo.classList.remove('is-hidden');\n    BoxCard.innerHTML = ` `;\n    return;\n  }\n\n  spinner.classList.remove('is-hidden');\n  spinner.classList.add('is-hidden');\n\n  renderList(queue);\n}\n\nasync function getMovieInfoById(movieID) {\n  const resp = await fetch(\n    `${API_URL}movie/${movieID}?api_key=${API_KEY}&language=en-US`\n  );\n\n  const respData = await resp.json();\n\n  return respData;\n}\n\nasync function getMoviesList(array) {\n  const moviePromises = array.map(item => getMovieInfoById(item));\n  const moviesList = await Promise.all(moviePromises);\n  return moviesList;\n}\n\nexport async function renderList(array) {\n  const moviesList = await getMoviesList(array);\n  const watchedList = createList(moviesList);\n  libBoxinfo.classList.add('is-hidden');\n  BoxCard.innerHTML = '';\n  BoxCard.insertAdjacentHTML('beforeend', watchedList);\n}\n\nfunction createList(array) {\n  return array.reduce((acc, item) => {\n    return acc + createMarkup(item);\n  }, '');\n}\n\nfunction createMarkup(item) {\n  // console.log(item);\n\n  let genres = getGenrelibrary(item.genres);\n\n  // let item.year = release_date?.substring(0, 4);\n  return `\n            <li class=\"movie-card\"  ID=${item.id}>\n                <img class=\"movie-card__image\" src=\"${API_URL_IMG}${\n    item.poster_path\n  }\" \n                onerror=\"this.onerror=null;this.src='https://thumbs.dreamstime.com/b/атрибуты-кино-вьюрок-фи-ьма-и-во-а-со-ы-в-бумажном-стаканчике-87336791.jpg'\" \n                alt=\"${item.original_title}\" \n                width=\"300\"\n                ID=${item.id}>\n                <h2 class=\"movie-card__name\"   ID=${item.id}>${\n    item.original_title\n  }</h2>\n                <p class=\"movie-card__text\"   ID=${\n                  item.id\n                }>${genres} | ${item.release_date?.substring(0, 4)}\n                <span class=\"movie-card__box\">\n                <span class=\"movie-card__average\">${item.vote_average.toFixed([1])}</span>\n                </span>\n                </p>\n            </li>\n        `;\n}\n","const Theme = {\n  LIGHT: 'light-theme',\n  DARK: 'dark-theme',\n  GREY: 'grey-background-theme',\n};\n\nconst body = document.querySelector('body');\nconst footer = document.querySelector('footer');\nconst modal = document.querySelector('#modal');\n\nconst setElementsColor = color => {\n  const elements = document.querySelectorAll('.movie-card__name');\n  const paginator = document.querySelector('.tui-page-btn');\n  for (let i = 0; i < elements.length; i++) {\n    elements[i].style.color = color;\n  }\n};\n\nconst delClassElem = () => {\n  body.classList.remove(Theme.LIGHT, Theme.DARK);\n  footer.classList.remove(Theme.LIGHT, Theme.GREY);\n  modal.classList.remove(Theme.LIGHT, Theme.GREY);\n};\n\nconst setTheme = theme => {\n  if (theme === 'darkTheme') {\n    body.classList.add(Theme.DARK);\n    footer.classList.add(Theme.GREY);\n    modal.classList.add(Theme.GREY);\n\n    setElementsColor('#ffffff');\n  } else {\n    body.classList.add(Theme.LIGHT);\n    modal.classList.add(Theme.LIGHT);\n\n    setElementsColor('#121213f7');\n  }\n};\n\nconst themeSwitcher = document.querySelector('#switcher');\n\nthemeSwitcher.addEventListener('change', () => {\n  const theme = themeSwitcher.checked ? 'darkTheme' : 'lightTheme';\n  localStorage.setItem('Theme', theme);\n  delClassElem();\n  setTheme(theme);\n});\n\nconst savedTheme = localStorage.getItem('Theme');\nif (savedTheme !== null) {\n  themeSwitcher.checked = savedTheme === 'darkTheme';\n  setTheme(savedTheme);\n}\n","(() => {\n    const refs = {\n      openModalBtn: document.querySelector(\"[team-modal-open]\"),\n      closeModalBtn: document.querySelector(\"[team-modal-close]\"),\n      modal: document.querySelector(\"[team-modal]\"),\n    };\n  \n    refs.openModalBtn.addEventListener(\"click\", toggleModal);\n    refs.closeModalBtn.addEventListener(\"click\", toggleModal);\n  \n\n    document.querySelector(\"a\").onclick = function(e){ \n        e.preventDefault(); \n        window.open(this.href); \n      }\n      \n    function toggleModal() {\n      refs.modal.classList.toggle(\"is-hidden\");\n    }\n  })();","const scrollUpBtn = document.querySelector('.scroll-up-btn');\nscrollUpBtn.addEventListener('click', goUp);\nwindow.addEventListener('scroll', trackScroll)\n\nfunction trackScroll() {\n  const offset = window.pageYOffset;\n  const coords = document.documentElement.clientHeight;\n  if (offset > coords) {\n    scrollUpBtn.classList.add('go-up-show');\n  } else {\n    scrollUpBtn.classList.remove('go-up-show');\n  }\n}\n\nfunction goUp() {\n  if (window.pageYOffset > 0) {\n    window.scrollBy(0, -75);\n    setTimeout(goUp, 0);\n  }\n}","// import * as apiService from './api-service';\nimport {\n  watched,\n  queue,\n  getQueue,\n  getWatched,\n  setQueue,\n  setWatched,\n} from './local-storage';\nimport { renderList } from './watched-queue-run';\n\nimport { getGenrelibrary } from './modal-genres';\n\n\n\nconst backdropModal = document.querySelector('.backdrop');\nconst API_KEY = '34e68a416eb051ec4adf34df5a0038fd';\nconst API_URL=`https://api.themoviedb.org/3/`;\nconst API_URL_IMG=`https://image.tmdb.org/t/p/original`;\n\nconst refs = {\n  gallerySelector: document.querySelector('.library-gallery-wrap'),\n  closeButton: document.querySelector('.modal__button-close'),\n};\n\n\nwindow.addEventListener('keydown', closeModalHandler);\nwindow.addEventListener('click', clickBackdropCloseModal);\nrefs.closeButton.addEventListener('click', onCloseButton);\nrefs.gallerySelector.addEventListener('click', showCard);\n\nconst modal = document.querySelector('.modal');\n\n// зачинення по кліку поза модалкою\n\nfunction clickBackdropCloseModal(e) {\n  if (e.target === backdropModal) {\n    backdropModal.classList.add('is-hidden');\n  }\n}\n\n\n// добавляем обработчик клика на весь документ\n\nfunction closeModalHandler(evt) {\n  if (evt.code === 'Escape') {\n    backdropModal.classList.add('is-hidden');\n  }\n  //зняття слухачів\n\n  // watchedBtn.removeEventListener('click', onWatchedClick);\n  // queueBtn.removeEventListener('click', onQueueClick);\n}\n\nfunction onCloseButton() {\n  backdropModal.classList.add('is-hidden');\n  //зняття слухачів\n\n  // watchedBtn.removeEventListener('click', onWatchedClick);\n  // queueBtn.removeEventListener('click', onQueueClick);\n}\n\nasync function showCard(e) {\n\n  e.preventDefault();\n  console.log(e.target.nodeName);\n\n  if (e.target.nodeName === 'UL') {\n    return;\n  }\n\n  backdropModal.classList.remove('is-hidden');\n\n  const movieId = e.target.id; // Отримали ID картки на яку був клік\n\n  // Отримуємо дані фільму\n  const movie = await getMovieInfoById(movieId); \n  let genres = getGenrelibrary(movie.genres);\n\n  async function getMovieInfoById(movieID) { \n    const resp = await fetch(`https://api.themoviedb.org/3/movie/${movieID}?api_key=${API_KEY}&language=en-US`); \n \n    const respData = await resp.json(); \n\n    return respData;\n}\n\n  // Отримуємо youtube трейлер \n  const youtubeTrailer = await getYoutubeTrailerByMovieId(movieId);\n  console.log(youtubeTrailer);\n\n  async function getYoutubeTrailerByMovieId(movieId) {\n    const response = await fetch(\n      `${API_URL}movie/${movieId}/videos?api_key=${API_KEY}&language=en-US`\n    );\n  \n    const responseData = await response.json();\n    console.log(responseData);\n  \n    if (responseData.results.length > 0){\n      return responseData[\"results\"][0][\"key\"];\n    }\n  };\n\n  // Вивід картки фільму\n  const modal = document.querySelector('.modul-card-to-add');\n\n  createModalCard(modal);\n\n  function createModalCard(cardForModal) {\n\n    cardForModal.innerHTML = `\n    <div class=\"modal__poster-thumb\">\n          <img class=\"modal__poster\" src=\"${API_URL_IMG}${movie.poster_path}\" alt=\"${movie.original_title} poster\">\n        </div>\n   \n        <div class=\"modal__info-thumb\">\n            <h2 class=\"modal__title\">${movie.original_title}</h2>\n        <table class=\"modal__info\">\n            <tr class=\"modal__info-entry\">\n            <td class=\"modal__info-key\">Vote / Votes</td>\n            <td><span class=\"modal__info-value-vote modal__info-value-vote--accent\">${movie.vote_average}</span> / <span class=\"modal__info-value-vote\">${movie.vote_count}</span></td>\n            </tr>\n            <tr class=\"modal__info-entry\">\n                <td class=\"modal__info-key\">Popularity</td>\n                <td class=\"modal__info-value\">${movie.popularity.toFixed([1])}</td>\n            </tr>\n            <tr class=\"modal__info-entry\">\n                <td class=\"modal__info-key\">Original Title</td>\n                <td class=\"modal__info-value modal__info-value-title\">${movie.original_title}</td>\n        </tr>\n            <tr class=\"modal__info-entry\">\n                <td class=\"modal__info-key\">Genre</td>\n                <td class=\"modal__info-value\">${genres}</td>\n            </tr>\n        </table>\n\n        <h3 class=\"modal__about\">About</h3>\n        <p class=\"modal__about-text\">${movie.overview}</p>\n            <div class=\"modal__button-container\">\n                <button id=\"watched\" type=\"button\" class=\"modal__button modal__button-watched\">add to watched</button>\n                <button id=\"queue\" type=\"button\" class=\"modal__button modal__button-queue\">add to queue</button>\n            </div>\n\n            <div class=\"modal__button-trailer-wrap\">\n                <button id=\"trailer\" type=\"button\" class=\"modal__button modal__button-trailer\">Trailer</button>\n\n                <iframe class=\"modal__iframe is-hidden\" width=\"1237\" height=\"696\" src=\"https://www.youtube.com/embed/${youtubeTrailer}\" title=\"Mia and me - Mia and me Day 2014\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen></iframe>\n            </div>\n        </div>\n    </div>\n  `;\n\n\n    // ПЕРЕВІРКА - чи в списку бібліотеки\n\n    onWatchedCheck()\n    onQueueCheck()\n\n    function onWatchedCheck() {\n      const watchedBtn = document.querySelector(`#watched`);\n      //якщо фільм вже в списку\n      if (watched.includes(movieId)) {\n        watchedBtn.textContent = 'remove from watched'; //змінити текст кнопки\n        return;\n      }\n        watchedBtn.textContent = 'add to watched'; //змінити текст кнопки\n    }\n  \n    function onQueueCheck() {\n          const queueBtn = document.querySelector('#queue');\n      if (queue.includes(movieId)) {\n\n        queueBtn.textContent = 'remove from queue';\n        return;\n      }\n\n      queueBtn.textContent = 'add to queue';\n    };\n\n  };\n\n\n    const watchedBtn = document.querySelector(`#watched`);\n    const queueBtn = document.querySelector(`#queue`);\n    // const trailerBtn = document.querySelector(`#trailer`);\n\n\n    watchedBtn.addEventListener('click', onWatchedClick);\n    queueBtn.addEventListener('click', onQueueClick);\n    window.addEventListener('click', onWindowClick);\n\n\n  function onWatchedClick() {\n    //якщо фільм вже в списку\n    if (watched.includes(movieId)) {\n      watched.splice(watched.indexOf(movieId), 1); //видаляємо з масиву айді\n      setWatched(watched); //перезаписуємо сховище\n      watchedBtn.textContent = 'add to watched'; //змінити текст кнопки\n      renderList(watched);\n      return;\n    }\n\n    watched.push(movieId); //додати в масив айді фільма\n    setWatched(watched); //записати в сховище\n    watchedBtn.textContent = 'remove from watched'; //змінити текст кнопки\n  }\n\n  function onQueueClick() {\n    if (queue.includes(movieId)) {\n      queue.splice(queue.indexOf(movieId), 1);\n      setQueue(queue);\n      queueBtn.textContent = 'add to queue';\n      renderList(queue);\n      return;\n    }\n\n    queue.push(movieId);\n    setQueue(queue);\n    queueBtn.textContent = 'remove from queue';\n  };\n    \n  function onWindowClick(e) {\n    if (!modal.contains(event.target)) {\n      console.log('Трейлер на паузі');\n      document.querySelector('#video').contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n   \n      backdropModal.classList.add('is-hidden');\n      watchedBtn.removeEventListener('click', onWatchedClick);\n      queueBtn.removeEventListener('click', onQueueClick);\n      window.removeEventListener('click', onWindowClick);\n    }\n  };\n\n  const modalIframe = document.querySelector('iframe');\n\n  const trailerBtn = document.querySelector(`#trailer`);\n  console.log(trailerBtn);\n  \n  trailerBtn.addEventListener('click', onTrailerClick);\n\n  function onTrailerClick() {\n    modalIframe.classList.remove('is-hidden');\n    console.log('кнопка работает');\n  }\n};\n"],"names":["$3791646d3ae2cee8$var$KEY_WATCHED","$3791646d3ae2cee8$var$KEY_QUEUE","$3791646d3ae2cee8$export$e330b7faa493c08b","JSON","parse","localStorage","getItem","$3791646d3ae2cee8$export$4f7fa46ff53e516f","$3791646d3ae2cee8$export$3547c30566e73dea","array","setItem","stringify","$3791646d3ae2cee8$export$99c5a435ab253916","$34534ee04a8cdfad$export$3917d349733aaf59","genre_ids","map","name","join","$65ae57d8cd8194df$var$API_KEY","$65ae57d8cd8194df$var$API_URL","$65ae57d8cd8194df$var$API_URL_IMG","$65ae57d8cd8194df$var$libWatchedBtn","document","querySelector","$65ae57d8cd8194df$var$libQueueBtn","$65ae57d8cd8194df$var$libBoxinfo","$65ae57d8cd8194df$var$BoxCard","$65ae57d8cd8194df$var$spinner","async","$65ae57d8cd8194df$var$onlibWatchedBtnClick","length","console","log","classList","remove","innerHTML","add","$65ae57d8cd8194df$export$4bf387f59bfc6d67","$65ae57d8cd8194df$var$getMoviesList","moviePromises","item","movieID","resp","fetch","json","$65ae57d8cd8194df$var$getMovieInfoById","Promise","all","watchedList","reduce","acc","genres","id","poster_path","original_title","release_date","substring","vote_average","toFixed","$65ae57d8cd8194df$var$createMarkup","$65ae57d8cd8194df$var$createList","insertAdjacentHTML","addEventListener","window","$0213dc21cb640fe3$var$Theme","$0213dc21cb640fe3$var$body","$0213dc21cb640fe3$var$footer","$0213dc21cb640fe3$var$modal","$0213dc21cb640fe3$var$setElementsColor","color","elements","querySelectorAll","i","style","$0213dc21cb640fe3$var$setTheme","theme","$0213dc21cb640fe3$var$themeSwitcher","checked","$0213dc21cb640fe3$var$savedTheme","refs","openModalBtn","closeModalBtn","modal","toggleModal","toggle","onclick","e","preventDefault","open","this","href","$4e3128c27d8675db$var$scrollUpBtn","$4e3128c27d8675db$var$goUp","pageYOffset","scrollBy","setTimeout","offset","coords","documentElement","clientHeight","$5274909fd9dfb2b1$var$backdropModal","$5274909fd9dfb2b1$var$API_KEY","$5274909fd9dfb2b1$var$API_URL","$5274909fd9dfb2b1$var$refs","gallerySelector","closeButton","evt","code","target","nodeName","movieId","movie","getMovieInfoById","youtubeTrailer","response","responseData","results","getYoutubeTrailerByMovieId","cardForModal","vote_count","popularity","overview","watchedBtn","includes","textContent","onWatchedCheck","queueBtn","onQueueCheck","onWatchedClick","splice","indexOf","push","onQueueClick","onWindowClick","contains","event","contentWindow","postMessage","removeEventListener","modalIframe","trailerBtn"],"version":3,"file":"library.0b63ab63.js.map"}