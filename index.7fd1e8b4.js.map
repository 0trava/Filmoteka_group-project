{"mappings":"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","sources":["src/index.js","src/js/trailer-api.js","src/js/modal.js","src/js/modal-genres.js","src/js/search-by-key-word.js","src/js/top-movies.js"],"sourcesContent":["// Приклади\nimport './js/team-modal';\nimport './js/api-service';\nimport './js/switch-theme';\nimport './js/trailer-api';\n// import './js/watched-queue-run'; //тут код тільки для бібліотеки\nimport './js/card-click';\nimport './js/modal';\nimport './js/search-by-key-word';\nimport './js/scroll-up-btn';\nimport './js/team-modal';\nimport './js/top-movies';\n","\nconst API = 'https://api.themoviedb.org/3/';\nconst API_KEY = '3fae8df0f78070a007ffb073b1444710';\n\ngetVideos(603692);\n\nasync function getVideos(movieID) {\n  const response = await fetch(\n    `${API}movie/${movieID}/videos?api_key=${API_KEY}&language=en-US`\n  );\n\n  const responseData = await response.json();\n\n  console.log(responseData);\n}\n\n\n","import * as apiService from './api-service';\nimport {\n  watched,\n  queue,\n  getQueue,\n  getWatched,\n  setQueue,\n  setWatched,\n} from './local-storage';\nimport { getGenre } from './modal-genres';\n\nexport const backdropModal = document.querySelector('.backdrop');\n\nconst refs = {\n  gallerySelector: document.querySelector('.gallery'),\n  closeButton: document.querySelector('.modal__button-close'),\n\n};\n\n \n\n\n\nwindow.addEventListener('keydown', closeModalHandler);\n// window.addEventListener('click', onCloseButton);\nrefs.closeButton.addEventListener('click', onCloseButton);\nrefs.gallerySelector.addEventListener('click', showCard);\n\n\n// зачинення по кліку поза модалкою\n\nconst modal = document.querySelector('.modal');\n\n\n// добавляем обработчик клика на весь документ\n\n// ->>>>>>\n\n\nfunction closeModalHandler(evt) {\n  if (evt.code === 'Escape') {\n\n    backdropModal.classList.add('is-hidden');\n\n  }\n  //зняття слухачів\n\n  // watchedBtn.removeEventListener('click', onWatchedClick);\n  // queueBtn.removeEventListener('click', onQueueClick);\n}\n\nfunction onCloseButton() {\n  backdropModal.classList.add('is-hidden');\n  //зняття слухачів\n\n\n  // watchedBtn.removeEventListener('click', onWatchedClick);\n  // queueBtn.removeEventListener('click', onQueueClick);\n}\n\nasync function showCard(e) {\n  e.preventDefault();\n\n  if (e.target.nodeName === 'UL') {\n    return;\n  }\n\n  backdropModal.classList.remove('is-hidden');\n\n  const movieId = e.target.id; // Отримали ID картки на яку був клік\n\n  // Отримуємо дані фільму\n  const movie = await apiService.getMovieInfoById(movieId); \n  const {\n    poster_path,\n    title,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    genres,\n    overview,\n  } = movie;\n  let genre = getGenre(genres);\n\n  // Отримуємо youtube трейлер \n  const youtubeTrailer = await apiService.getYoutubeTrailerByMovieId(movieId);\n  console.log(youtubeTrailer);\n\n  // Вивід картки фільму\n  const modal = document.querySelector('.modul-card-to-add');\n\n  createModalCard(modal);\n\n  function createModalCard(cardForModal) {\n\n    cardForModal.innerHTML = `\n    <div class=\"modal__poster-thumb\">\n          <img class=\"modal__poster\" src=\"${\n            apiService.API_URL_IMG\n          }${poster_path}\" alt=\"${original_title} poster\">\n        </div>\n   \n        <div class=\"modal__info-thumb\">\n            <h2 class=\"modal__title\">${title}</h2>\n        <table class=\"modal__info\">\n            <tr class=\"modal__info-entry\">\n            <td class=\"modal__info-key\">Vote / Votes</td>\n            <td><span class=\"modal__info-value-vote modal__info-value-vote--accent\">${vote_average}</span> / <span class=\"modal__info-value-vote\">${vote_count}</span></td>\n            </tr>\n            <tr class=\"modal__info-entry\">\n                <td class=\"modal__info-key\">Popularity</td>\n                <td class=\"modal__info-value\">${popularity.toFixed([1])}</td>\n            </tr>\n            <tr class=\"modal__info-entry\">\n                <td class=\"modal__info-key\">Original Title</td>\n                <td class=\"modal__info-value modal__info-value-title\">${original_title}</td>\n        </tr>\n            <tr class=\"modal__info-entry\">\n                <td class=\"modal__info-key\">Genre</td>\n                <td class=\"modal__info-value\">${genre}</td>\n            </tr>\n        </table>\n\n        <h3 class=\"modal__about\">About</h3>\n        <p class=\"modal__about-text\">${overview}</p>\n            <div class=\"modal__button-container\">\n                <button id=\"watched\" type=\"button\" class=\"modal__button modal__button-watched\">add to watched</button>\n                <button id=\"queue\" type=\"button\" class=\"modal__button modal__button-queue\">add to queue</button>\n            </div>\n\n            <div class=\"modal__button-trailer-wrap\">\n                <button id=\"trailer\" type=\"button\" class=\"modal__button modal__button-trailer\">Trailer</button>\n\n                <iframe id=\"video\" class=\"modal__iframe is-hidden\" width=\"1237\" height=\"696\" src=\"https://www.youtube.com/embed/${youtubeTrailer}?enablejsapi=1\" \n                title=\"Mia and me - Mia and me Day 2014\" frameborder=\"0\" \n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" \n                allowfullscreen></iframe>\n            </div>\n        </div>\n    </div>\n  `;\n\n\n    // ПЕРЕВІРКА - чи в списку бібліотеки\n\n    onWatchedCheck()\n    onQueueCheck()\n\n    function onWatchedCheck() {\n      const watchedBtn = document.querySelector(`#watched`);\n      //якщо фільм вже в списку\n      if (watched.includes(movieId)) {\n        watchedBtn.textContent = 'remove from watched'; //змінити текст кнопки\n        return;\n      }\n        watchedBtn.textContent = 'add to watched'; //змінити текст кнопки\n    }\n  \n    function onQueueCheck() {\n          const queueBtn = document.querySelector('#queue');\n      if (queue.includes(movieId)) {\n\n        queueBtn.textContent = 'remove from queue';\n        return;\n      }\n\n      queueBtn.textContent = 'add to queue';\n    };\n\n  };\n\n\n\n    const watchedBtn = document.querySelector(`#watched`);\n    const queueBtn = document.querySelector(`#queue`);\n    // const trailerBtn = document.querySelector(`#trailer`);\n\n\n    watchedBtn.addEventListener('click', onWatchedClick);\n    queueBtn.addEventListener('click', onQueueClick);\n    window.addEventListener('click', onWindowClick);\n \n\n\n\n  function onWatchedClick() {\n    //якщо фільм вже в списку\n    if (watched.includes(movieId)) {\n      watched.splice(watched.indexOf(movieId), 1); //видаляємо з масиву айді\n      setWatched(watched); //перезаписуємо сховище\n      watchedBtn.textContent = 'add to watched'; //змінити текст кнопки\n      return;\n    }\n\n    watched.push(movieId); //додати в масив айді фільма\n    setWatched(watched); //записати в сховище\n    watchedBtn.textContent = 'remove from watched'; //змінити текст кнопки\n  }\n\n  function onQueueClick() {\n    if (queue.includes(movieId)) {\n      queue.splice(queue.indexOf(movieId), 1);\n      setWatched(queue);\n      queueBtn.textContent = 'add to queue';\n      return;\n    }\n\n    queue.push(movieId);\n    setQueue(queue);\n    queueBtn.textContent = 'remove from queue';\n  }\n  \n\n\n\n    \n  function onWindowClick(e) {\n    if (!modal.contains(event.target)) {\n      console.log('Трейлер на паузі');\n      document.querySelector('#video').contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n\n      backdropModal.classList.add('is-hidden');\n      watchedBtn.removeEventListener('click', onWatchedClick);\n      queueBtn.removeEventListener('click', onQueueClick);\n      window.removeEventListener('click', onWindowClick);\n    }\n\n  }\n  const modalIframe = document.querySelector('iframe');\n\n  const trailerBtn = document.querySelector(`#trailer`);\n  console.log(trailerBtn);\n  \n  trailerBtn.addEventListener('click', onTrailerClick);\n\n  function onTrailerClick() {\n    modalIframe.classList.remove('is-hidden');\n\n  }\n\n\n};\n","export const genres = [\n  {\n    id: 28,\n    name: 'Action',\n  },\n  {\n    id: 12,\n    name: 'Adventure',\n  },\n  {\n    id: 16,\n    name: 'Animation',\n  },\n  {\n    id: 35,\n    name: 'Comedy',\n  },\n  {\n    id: 80,\n    name: 'Crime',\n  },\n  {\n    id: 99,\n    name: 'Documentary',\n  },\n  {\n    id: 18,\n    name: 'Drama',\n  },\n  {\n    id: 10751,\n    name: 'Family',\n  },\n  {\n    id: 14,\n    name: 'Fantasy',\n  },\n  {\n    id: 36,\n    name: 'History',\n  },\n  {\n    id: 27,\n    name: 'Horror',\n  },\n  {\n    id: 10402,\n    name: 'Music',\n  },\n  {\n    id: 9648,\n    name: 'Mystery',\n  },\n  {\n    id: 10749,\n    name: 'Romance',\n  },\n  {\n    id: 878,\n    name: 'Science Fiction',\n  },\n  {\n    id: 10770,\n    name: 'TV Movie',\n  },\n  {\n    id: 53,\n    name: 'Thriller',\n  },\n  {\n    id: 10752,\n    name: 'War',\n  },\n  {\n    id: 37,\n    name: 'Western',\n  },\n];\n\nexport function getGenre(genres) {\n  return genres.map(genre => genre.name).join(', ');\n}\n","import axios from \"axios\";\nimport * as apiService from './api-service';\nimport * as pagination from './pagination';\n\nconst moviesAll = document.querySelector(\".gallery\");\nconst paginationEl = document.querySelector(\"#pagination\");\n\n\n//ПОШУК ПО КЛЮЧОВОМУ СЛОВУ\nconst input = document.querySelector('.search-form__input')\nconst form = document.querySelector('#search-box');\nconst inputError = document.querySelector('.error-notification__text')\n\n\nform.addEventListener('submit', onSearchByKeyWords)\n\nasync function onSearchByKeyWords(e) {\n\n\n    e.preventDefault(); //не перезапускає сторінку\n\n    // Видаляє розмітку, яка вже є \n    moviesAll.innerHTML = '';\n    paginationEl.innerHTML = ''\n\n    const search_word = input.value.trim(); //значення, яке ввели в інпут\n    \n    if (!search_word) {\n        inputError.textContent = \"Please enter something to search \";\n        return;\n    }\n\n    const totalResults = await apiService.getSearchMovies(search_word, 1);\n\n    if (totalResults) { \n        pagination.initPagination(totalResults, apiService.getSearchMovies, search_word);\n        inputError.textContent = \"\";\n    }\n}\n\n// async function getMoviesByValue(value, page) {\n//     const API_URL = `https://api.themoviedb.org/3/`;\n//     const API_KEY = '34e68a416eb051ec4adf34df5a0038fd';\n\n//     try {\n//         const response = await axios.get(`${API_URL}search/movie?api_key=${API_KEY}&language=en-US&include_adult=${value}`);\n//         // createMarkup(response.data.results) \n\n//         return console.log(response)\n\n//     } catch (error) {\n//         console.log(error)\n//     } \n// }\n\n\n\n\n\n\n//Ф-ція для рендеру розмітки за ключовим словом\n// function createMarkup(array) {\n//     const API_URL_IMG=`https://image.tmdb.org/t/p/original`;\n//     const markup = array.map(item => {\n//         return `\n//             <li class=\"movie-card\"  ID=${item.id}>\n//                 <img class=\"movie-card__image\" src=\"${API_URL_IMG}${item.poster_path}\" \n//                 alt=\"${item.original_title}\" \n//                 width=\"300\">\n//                 <h2 class=\"movie-card__name\">${item.original_title}</h2>\n//                 <p class=\"movie-card__text\">${item.genre_ids} | ${item.release_date}</p>\n//             </li>\n//         `;\n//     }).join('');\n//     moviesAll.insertAdjacentHTML('beforeend', markup)\n// }","import * as apiService from './api-service';\nimport * as pagination from './pagination';\n\n// Виводимо ТОП фільмів з пагінацією\nrenderTOPMovies();\n\n// Функція виводу ТОП фільмів з пагінацією\nasync function renderTOPMovies() {\n    // ТОП фільмів - вивести 1 сторінка\n    const totalResults = await apiService.getTOPMovies(1);\n    \n    if (totalResults) {\n        // ТОП фільмів - активувати пагінацію\n        pagination.initPagination(totalResults, apiService.getTOPMovies);\n    }\n}"],"names":["parcelRequire","async","movieID","response","fetch","responseData","json","console","log","$94df12513317cb45$var$getVideos","$7me8F","$a2a1a8ef956f7202$export$11ff5302ebb1cd30","genres","map","genre","name","join","$8a7e756c566dd1ea$export$fe5a587e213b42e1","document","querySelector","$8a7e756c566dd1ea$var$refs","gallerySelector","closeButton","window","addEventListener","evt","code","classList","add","e","preventDefault","target","nodeName","remove","movieId","id","movie","getMovieInfoById","poster_path","title","vote_average","vote_count","popularity","original_title","overview","youtubeTrailer","getYoutubeTrailerByMovieId","modal","cardForModal","innerHTML","API_URL_IMG","toFixed","watchedBtn","$b5rV1","watched","includes","textContent","onWatchedCheck","queueBtn","queue","onQueueCheck","onWatchedClick","splice","indexOf","setWatched","push","onQueueClick","setQueue","onWindowClick","contains","event","contentWindow","postMessage","removeEventListener","modalIframe","trailerBtn","$f349ca1b6eafce3f$var$moviesAll","$f349ca1b6eafce3f$var$paginationEl","$f349ca1b6eafce3f$var$input","$f349ca1b6eafce3f$var$form","$f349ca1b6eafce3f$var$inputError","search_word","value","trim","totalResults","getSearchMovies","$2nhTy","initPagination","getTOPMovies","$3864d94f15fcd7ed$var$renderTOPMovies"],"version":3,"file":"index.7fd1e8b4.js.map"}