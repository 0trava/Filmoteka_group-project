var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("baGT8"),o("7me8F"),o("gyeM6");!async function(e){const t=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=3fae8df0f78070a007ffb073b1444710&language=en-US`),n=await t.json();console.log(n)}(603692);var a=o("7me8F"),d=o("b5rV1");function i(e){return e.map((e=>e.name)).join(", ")}const c=document.querySelector(".backdrop"),r={gallerySelector:document.querySelector(".gallery"),closeButton:document.querySelector(".modal__button-close")};window.addEventListener("keydown",(function(e){"Escape"===e.code&&c.classList.add("is-hidden")})),r.closeButton.addEventListener("click",(function(){c.classList.add("is-hidden")})),r.gallerySelector.addEventListener("click",(async function(e){if(e.preventDefault(),"UL"===e.target.nodeName)return;c.classList.remove("is-hidden");const t=e.target.id,n=await a.getMovieInfoById(t),{poster_path:o,title:r,vote_average:l,vote_count:s,popularity:u,original_title:m,genres:_,overview:f}=n;let v=i(_);const y=await a.getYoutubeTrailerByMovieId(t);console.log(y);const h=document.querySelector(".modul-card-to-add");p=h,p.innerHTML=`\n    <div class="modal__poster-thumb">\n          <img class="modal__poster" src="${a.API_URL_IMG}${o}" alt="${m} poster">\n        </div>\n   \n        <div class="modal__info-thumb">\n            <h2 class="modal__title">${r}</h2>\n        <table class="modal__info">\n            <tr class="modal__info-entry">\n            <td class="modal__info-key">Vote / Votes</td>\n            <td><span class="modal__info-value-vote modal__info-value-vote--accent">${l}</span> / <span class="modal__info-value-vote">${s}</span></td>\n            </tr>\n            <tr class="modal__info-entry">\n                <td class="modal__info-key">Popularity</td>\n                <td class="modal__info-value">${u.toFixed([1])}</td>\n            </tr>\n            <tr class="modal__info-entry">\n                <td class="modal__info-key">Original Title</td>\n                <td class="modal__info-value modal__info-value-title">${m}</td>\n        </tr>\n            <tr class="modal__info-entry">\n                <td class="modal__info-key">Genre</td>\n                <td class="modal__info-value">${v}</td>\n            </tr>\n        </table>\n\n        <h3 class="modal__about">About</h3>\n        <p class="modal__about-text">${f}</p>\n            <div class="modal__button-container">\n                <button id="watched" type="button" class="modal__button modal__button-watched">add to watched</button>\n                <button id="queue" type="button" class="modal__button modal__button-queue">add to queue</button>\n            </div>\n\n            <div class="modal__button-trailer-wrap">\n                <button id="trailer" type="button" class="modal__button modal__button-trailer">Trailer</button>\n\n                <iframe id="video" class="modal__iframe is-hidden" width="1237" height="696" src="https://www.youtube.com/embed/${y}?enablejsapi=1" \n                title="Mia and me - Mia and me Day 2014" frameborder="0" \n                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" \n                allowfullscreen></iframe>\n            </div>\n        </div>\n    </div>\n  `,function(){const e=document.querySelector("#watched");d.watched.includes(t)?e.textContent="remove from watched":e.textContent="add to watched"}(),function(){const e=document.querySelector("#queue");d.queue.includes(t)?e.textContent="remove from queue":e.textContent="add to queue"}();var p;const w=document.querySelector("#watched"),b=document.querySelector("#queue");function g(){if(d.watched.includes(t))return d.watched.splice(d.watched.indexOf(t),1),(0,d.setWatched)(d.watched),void(w.textContent="add to watched");d.watched.push(t),(0,d.setWatched)(d.watched),w.textContent="remove from watched"}function q(){if(d.queue.includes(t))return d.queue.splice(d.queue.indexOf(t),1),(0,d.setWatched)(d.queue),void(b.textContent="add to queue");d.queue.push(t),(0,d.setQueue)(d.queue),b.textContent="remove from queue"}w.addEventListener("click",g),b.addEventListener("click",q),window.addEventListener("click",(function e(t){h.contains(event.target)||(console.log("Трейлер на паузі"),document.querySelector("#video").contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"),c.classList.add("is-hidden"),w.removeEventListener("click",g),b.removeEventListener("click",q),window.removeEventListener("click",e))}));const L=document.querySelector("iframe"),S=document.querySelector("#trailer");console.log(S),S.addEventListener("click",(function(){L.classList.remove("is-hidden")}))}));document.querySelector(".modal");a=o("7me8F");var l=o("2nhTy");const s=document.querySelector(".gallery"),u=document.querySelector("#pagination"),m=document.querySelector(".search-form__input"),_=document.querySelector("#search-box"),f=document.querySelector(".error-notification__text");_.addEventListener("submit",(async function(e){e.preventDefault(),s.innerHTML="",u.innerHTML="";const t=m.value.trim();if(!t)return void(f.textContent="Please enter something to search ");const n=await a.getSearchMovies(t,1);n&&(l.initPagination(n,a.getSearchMovies,t),f.textContent="")})),o("9tydV"),o("baGT8");a=o("7me8F"),l=o("2nhTy");!async function(){const e=await a.getTOPMovies(1);e&&l.initPagination(e,a.getTOPMovies)}();
//# sourceMappingURL=index.7fd1e8b4.js.map
